<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>CoffeePOS</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/fonts/fontawesome-all.min.css">
    <link rel="stylesheet" href="assets/fonts/font-awesome.min.css">
    <link rel="stylesheet" href="assets/fonts/simple-line-icons.min.css">
    <link rel="stylesheet" href="assets/fonts/fontawesome5-overrides.min.css">
    <link rel="stylesheet" href="assets/css/Features-Boxed.css">
    <link rel="stylesheet" href="assets/css/Footer-with-social-media-icons.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.15/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/Navigation-Clean.css">
    <link rel="stylesheet" href="assets/css/Scroll-to-top.css">
    <link rel="stylesheet" href="assets/css/styles.css">
</head>

<body style="background-color: #e7e5df;">
    <div><div role="dialog" tabindex="-1" class="modal fade" id="modalScrollpy">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
                    
            <div class="modal-header">
                <h4 class="modal-title">Nueva Orden</h4><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div>
        <nav id="navbar-example2" class="navbar navbar-light bg-light">
          <a class="navbar-brand" href="#"></a>
          <ul class="nav nav-pills">
            <li class="nav-item">
              <a class="nav-link active" href="#DatosGenerales">Datos Generales</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#Productos">Productos</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#Resumen">Resumen</a>
            </li>
          </ul>
        </nav>
            

<div data-spy="scroll" data-target="#navbar-example2" data-offset="0" id="scroll">
            <div class="modal-body" id="Paso1">
                <h4 class="modal-title" id=DatosGenerale>Datos Generales</h4>
                <div>
                    <div class="row">
                        <div class="col"><label class="col-form-label">Número de Orden:</label></div>
                        <div class="col"><label class="col-form-label">1</label></div>
                    </div>
                </div>
                <div>
                    <div class="row">
                        <div class="col"><label class="col-form-label">Mesero:</label></div>
                        <div class="col"><input type="text" /></div>
                    </div>
                </div>
                <div>
                    <div class="row">
                        <div class="col"><label class="col-form-label">Cliente:</label></div>
                        <div class="col"><input type="text" /></div>
                    </div>
                </div>
                <div>
                    <div class="row">
                        <div class="col"><label class="col-form-label">Número de Mesa:</label></div>
                        <div class="col"><input type="text" /></div>
                    </div>
                </div>
            </div>
            <div class="modal-header">
                <h4 class="modal-title" id=Productos>Productos</h4><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div>
            <div class="modal-body" id="Paso2">
                <div></div>
                <div class="card">
                    <div class="card-header">
                        <ul class="nav nav-tabs card-header-tabs">
                            <li class="nav-item"><a class="nav-link active" href="#">Aperitivos</a></li>
                            <li class="nav-item"><a class="nav-link" href="#">Plato Fuerte</a></li>
                            <li class="nav-item"><a class="nav-link" href="#">Bebida</a></li>
                        </ul>
                    </div>
                    <div class="card-body">
                        <div>
                            <div class="row">
                                <div class="col" style="width: 227px;height: 227px;">
                                    <div class="card">
                                        <div class="card-body" style="width: 190px;height: 200px;padding: 5px;">
                                            <h4 class="card-title">Aperitivo #1</h4><img src="aperitivos-faciles-rapidos-champinones-huevos-codorniz_692d9101_1000x1500.jpg" style="width: 180px;height: 150px;" /><span class="badge badge-primary" style="margin: 5px;"> + </span>
                                            <span
                                                class="badge badge-primary" style="margin: 5px;"> 0 </span><span class="badge badge-primary" style="margin: 5px;"> - </span><span class="badge badge-primary"></span><span class="badge badge-primary"></span></div>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="card">
                                        <div class="card-body" style="width: 190px;height: 200px;padding: 5px;">
                                            <h4 class="card-title">Aperitivo #2</h4><img src="aperitivos-faciles-rapidos-champinones-huevos-codorniz_692d9101_1000x1500.jpg" style="width: 180px;height: 150px;" /></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="row">
                                <div class="col">
                                    <div class="card">
                                        <div class="card-body" style="width: 190px;height: 200px;padding: 5px;">
                                            <h4 class="card-title">Aperitivo #3</h4><img src="aperitivos-faciles-rapidos-champinones-huevos-codorniz_692d9101_1000x1500.jpg" style="width: 180px;height: 150px;" /></div>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="card">
                                        <div class="card-body" style="width: 190px;height: 200px;padding: 5px;">
                                            <h4 class="card-title">Aperitivo #4</h4><img src="aperitivos-faciles-rapidos-champinones-huevos-codorniz_692d9101_1000x1500.jpg" style="width: 180px;height: 150px;" /></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <h4 class="modal-title" id=Resumen>Resumen</h4>
            </div>
            <div class="modal-body" id="paso3">
                <div>
                    <div class="row">
                        <div class="col"><label class="col-form-label">Número de Orden:</label></div>
                        <div class="col"><label class="col-form-label">1</label></div>
                    </div>
                    <div class="row">
                        <div class="col"><label class="col-form-label">Mesero:</label></div>
                        <div class="col"><label class="col-form-label">209</label></div>
                    </div>
                    <div class="row">
                        <div class="col"><label class="col-form-label">Número de Mesa:</label></div>
                        <div class="col"><label class="col-form-label">21</label></div>
                    </div>
                    <div class="row">
                        <div class="col"><label class="col-form-label">Cliente:</label></div>
                        <div class="col"><label class="col-form-label">Lucrecia</label></div>
                    </div>
                    <h5>Detalle </h5>
                    <div class="row text-primary" style="color: rgb(74,13,204);background-color: #c0f1f8;">
                        <div class="col"><label class="col-form-label">Id</label></div>
                        <div class="col"><label class="col-form-label">Cant.</label></div>
                        <div class="col"><label class="col-form-label">Producto</label></div>
                        <div class="col"><label class="col-form-label">P/U</label></div>
                        <div class="col"><label class="col-form-label">SubTotal</label></div>
                    </div>
                    <div class="row text-primary" style="color: rgb(74,13,204);">
                        <div class="col"><label class="col-form-label">01</label></div>
                        <div class="col"><label class="col-form-label">1</label></div>
                        <div class="col"><label class="col-form-label">Golden</label></div>
                        <div class="col"><label class="col-form-label">$1.00</label></div>
                        <div class="col"><label class="col-form-label">$1.00</label></div>
                    </div>
                    <div class="row text-primary" style="color: rgb(74,13,204);">
                        <div class="col"><label class="col-form-label">02</label></div>
                        <div class="col"><label class="col-form-label">4</label></div>
                        <div class="col"><label class="col-form-label">Entradas</label></div>
                        <div class="col"><label class="col-form-label">$2.00</label></div>
                        <div class="col"><label class="col-form-label">$8.00</label></div>
                    </div>
                    <div class="row text-primary" style="color: rgb(74,13,204);">
                        <div class="col"><label class="col-form-label">03</label></div>
                        <div class="col"><label class="col-form-label">2</label></div>
                        <div class="col"><label class="col-form-label">Pilsener</label></div>
                        <div class="col"><label class="col-form-label">$1.00</label></div>
                        <div class="col"><label class="col-form-label">$2.00</label></div>
                    </div>
                    <div class="row text-primary" style="color: rgb(74,13,204);">
                        <div class="col"><label class="col-form-label">04</label></div>
                        <div class="col"><label class="col-form-label">1</label></div>
                        <div class="col"><label class="col-form-label">Agua Cri</label></div>
                        <div class="col"><label class="col-form-label">$0.75</label></div>
                        <div class="col"><label class="col-form-label">$0.75</label></div>
                    </div>
                    <div class="modal-footer"><button class="btn btn-primary" type="button" data-dismiss="modal">Cancelar</button><button class="btn btn-primary" type="button" data-toggle="modal" data-target="#orden2">Siguiente</button></div>
            </div>
</div>
                
          </div>
    </div>
</div></div>
    <div style="padding: 40px;">
        <nav class="navbar navbar-light navbar-expand-md fixed-top navigation-clean" style="padding: 10px 0px 0px;background-color: #e7bb41;">
            <div class="container"><img class="d-none d-md-inline" src="assets/img/CoffeeShop.png" width="75"><a class="navbar-brand text-right text-xl-center" href="#">&nbsp; &nbsp;Sistema POS</a><button data-toggle="collapse" class="navbar-toggler" data-target="#navcol-1"><span class="sr-only">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navcol-1">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                        <li class="nav-item"><a class="nav-link" href="MenuProductos.html">Menú</a></li>
                        <li class="nav-item"><a class="nav-link" href="Orden-1.html">Ordenes</a></li>
                        <li class="dropdown nav-item"><a class="dropdown-toggle nav-link" aria-expanded="false" data-toggle="dropdown" href="#">Administración</a>
                            <div class="dropdown-menu"><a class="dropdown-item" href="Categorias.html">Categorias</a><a class="dropdown-item" href="Productos.html">Productos</a><a class="dropdown-item" href="#"></a></div>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>
    <div><div class="features-boxed" style="background-color: #e7e5df;">
        <br><br>
        <h3 class=" text-center mt-1 mb-2"></h3>
        <div class="container pb-3">


            <div>

            <div id="ordenes" style="background-color: #e7e5df;" >
                <div class="col text-right">
                <button type="button" class="btn btn-success mt-1 mb-1" data-toggle="modal"
                    data-target="#exampleModalScrollable" @click="iniciarNuevaOrden();" style="padding-right: 10px;padding-left: 10px;padding-bottom: 10px;padding-top: 10px;margin: 10px;background-color: #44bba4;">
                    Nueva orden
                </button>
                    <input class="form-control my-1" type="text"
                        v-model="textoBusqueda" placeholder="Buscar..." style="padding-right: 58px;padding-left: 10px;width: 400px;"> 
                </div>
                
                <div class="container border rounded mt-3 table-responsive" style="height: 600px; background-color: #e7e5df;">
                    <!-- tabla ordenes -->
                    <table class="table table-light table-hover table-bordered table-sm table-striped overflow-y: scroll;" style="background-color: #e7e5df;">
                        <thead class="thead-dark text-center" style="background-color: #d3d0cb;" >
                            <tr style="background-color: #d3d0cb; color:#ffffff;">
                                <th scope="col" class="d-none d-xl-table-cell" style="background-color: #d3d0cb; color:#ffffff;"><a href="#" v-on:click.prevent="orderBy('numeroDeOrden')" style="background-color: #d3d0cb; color:#393e41;">idOrden&nbsp;<i class="fa fa-long-arrow-up"
                                    v-show="orderByCampo=='numeroDeOrden' &amp;&amp; orderByAsc==1"></i><i
                                    class="fa fa-long-arrow-down"
                                    v-show="orderByCampo=='numeroDeOrden' &amp;&amp; orderByAsc==-1"></i></a>
                                </th>
                                <th scope="col" style="background-color: #d3d0cb; color:#393e41;"><a href="#" v-on:click.prevent="orderBy('cliente')" style="background-color: #d3d0cb; color:#393e41;">Cliente&nbsp;<i class="fa fa-long-arrow-up"
                                    v-show="orderByCampo=='cliente' &amp;&amp; orderByAsc==1"></i><i
                                    class="fa fa-long-arrow-down"
                                    v-show="orderByCampo=='cliente' &amp;&amp; orderByAsc==-1"></i></a></th>
                                <th scope="col" style="background-color: #d3d0cb; color:#393e41;"><a href="#" v-on:click.prevent="orderBy('mesa')" style="background-color: #d3d0cb; color:#393e41;">Mesa&nbsp;<i class="fa fa-long-arrow-up"
                                    v-show="orderByCampo=='mesa' &amp;&amp; orderByAsc==1"></i><i
                                    class="fa fa-long-arrow-down"
                                    v-show="orderByCampo=='mesa' &amp;&amp; orderByAsc==-1"></i></a></th>
                                <th scope="col" style="background-color: #d3d0cb; color:#393e41;"><a href="#" v-on:click.prevent="orderBy('mesero')" style="background-color: #d3d0cb; color:#393e41;">Mesero&nbsp;<i class="fa fa-long-arrow-up"
                                    v-show="orderByCampo=='mesero' &amp;&amp; orderByAsc==1"></i><i
                                    class="fa fa-long-arrow-down"
                                    v-show="orderByCampo=='mesero' &amp;&amp; orderByAsc==-1"></i></a></th>
                                <th scope="col" class="d-none d-xl-table-cell" style="background-color: #d3d0cb; color:#393e41;"><a href="#" v-on:click.prevent="orderBy('fecha')" style="background-color: #d3d0cb; color:#393e41;">Fecha&nbsp;<i class="fa fa-long-arrow-up"
                                    v-show="orderByCampo=='fecha' &amp;&amp; orderByAsc==1"></i><i
                                    class="fa fa-long-arrow-down"
                                    v-show="orderByCampo=='fecha' &amp;&amp; orderByAsc==-1"></i></a></th>
                                <th scope="col" style="background-color: #d3d0cb; color:#393e41;"><a style="background-color: #d3d0cb; color:#393e41;" href="#" v-on:click.prevent="orderBy('total')">Total&nbsp;<i class="fa fa-long-arrow-up"
                                    v-show="orderByCampo=='total' &amp;&amp; orderByAsc==1"></i><i
                                    class="fa fa-long-arrow-down"
                                    v-show="orderByCampo=='total' &amp;&amp; orderByAsc==-1"></i></a></th>
                                <th scope="col" style="background-color: #d3d0cb; color:#393e41;">
                                    <div class="form-check">
                                        <input type="checkbox" v-model="ordenesEstado" class="form-check-input" id="cbxEstado">
                                        <label class="form-check-label" for="cbxEstado">Estado</label>
                                    </div>
                                </th>
                                <th scope="col" style="background-color: #d3d0cb; color:#393e41;"> Observacion </th>
                                <th scope="col" style="background-color: #d3d0cb; color:#393e41;"> Agregar</th>
                                <th scope="col"style="background-color: #d3d0cb; color:#393e41;"> Eliminar </th>
                                <th scope="col" style="background-color: #d3d0cb; color:#393e41;"> Cobrar </th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="(orden,index) in ordenes" @dblClick="obtenerDetalleOrden();"
                                @click.prevent="ordenSelected=orden"  v-show="buscar(index)" v-if="ordenesEstado === true && orden.estado === 'A'">
                                <td class="d-none d-xl-table-cell">{{orden.idOrden}}</td>
                                <td >{{orden.cliente}}</td>
                                <td >{{orden.mesa}}</td>
                                <td >{{orden.mesero}}</td>
                                <td class="d-none d-xl-table-cell" >{{orden.fecha.substring(0,10)}}</td>
                                <td >{{orden.total}}</td>
                                <td style="text-align: center"><i class="icon-lock" style="padding: 5px;color: #e7bb41;" v-show="orden.estado==&quot;C&quot;"></i><i class="icon-lock-open" style="padding: 5px;color: rgb(68,187,164);" v-show="orden.estado==&quot;A&quot;"></i></td>
                                <td >{{orden.observacion}}</td>
                                <td style="text-align: center"><span><button style="background-color: #44bba4;"type="button" class="btn btn-success btn-sm"
                                            onClick="$('#mdlAgregarAlaOrden').modal('show')"><i class="icon-note" style="padding: 5px;"></i></button></span>
                                </td>
                                <td style="text-align: center"><span><button type="button" class="btn btn-danger btn-sm"
                                            onClick="$('#mdlEliminar').modal('show')"><i class="icon-ban" style="padding: 5px;"></i></button></span></td>
                                <td style="text-align: center"><span><button style="background-color: #e7bb41;" type="button" class="btn btn-primary btn-sm"
                                            @click="cobrar();"><i class="icon-wallet" style="padding: 5px;"></i></button></span></td>
                            </tr>
                            <tr v-for="(orden,index) in ordenes" @dblClick="obtenerDetalleOrden();"
                                @click.prevent="ordenSelected=orden"  v-show="buscar(index)" v-if="ordenesEstado === false">
                                <td class="d-none d-xl-table-cell">{{orden.idOrden}}</td>
                                <td >{{orden.cliente}}</td>
                                <td >{{orden.mesa}}</td>
                                <td >{{orden.mesero}}</td>
                                <td class="d-none d-xl-table-cell">{{orden.fecha.substring(0,10)}}</td>
                                <td >{{orden.total}}</td>
                                <td style="text-align: center"><i class="icon-lock" style="padding: 5px;color: #e7bb41;" v-show="orden.estado==&quot;C&quot;"></i><i class="icon-lock-open" style="padding: 5px;color: rgb(68,187,164);" v-show="orden.estado==&quot;A&quot;"></i></td>
                                <td >{{orden.observacion}}</td>
                                <td style="text-align: center"><span><button style="background-color: #44bba4;" type="button" class="btn btn-success btn-sm"
                                            onClick="$('#mdlAgregarAlaOrden').modal('show')" v-on:click="btnAgregarProductos();" ><i class="icon-note" style="padding: 5px;"></i></button></span>
                                </td>
                                <td style="text-align: center"><span><button type="button" class="btn btn-danger btn-sm"
                                            onClick="$('#mdlEliminar').modal('show')"><i class="icon-ban" style="padding: 5px;"></i></button></span></td>
                                <td style="text-align: center"><span><button style="background-color: #e7bb41;" type="button" class="btn btn-primary btn-sm"
                                            @click="cobrar();"><i class="icon-wallet" style="padding: 5px;"></i></button></span></td>
                            </tr>
                        </tbody>
                    </table>
                    <!-- fin tabla ordenes -->
                    <!--   modal agregar   -->
                    <div class="modal fade" id="mdlAgregarAlaOrden" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog modal-lg" role="document">
                            <div class="modal-content">
                                <div class="modal-header" style="background-color: #e7e5df ">
                                    <h5 class="modal-title" id="exampleModalLabel">Agregar a la orden</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div v-if="this.ordenSelected.estado != 'C'" class="modal-body" style="background-color: #e7e5df ">
                                    <div class="container mb-2" style="background-color: #e7e5df ">
                                        <h3 id="menu">Menu</h3>
                                        <!-- <ul class="nav nav-pills">
                                                                        <li class="nav-item" v-for="cat in categorias">
                                                                            <a class="nav-link" href="#">{{cat.nombreCategoria}}</a>
                                                                        </li>
                                                                    </ul> -->
                                        <input class="form-control my-1" type="text" v-model="textoBusquedaProducto" placeholder="Buscar...">
                                        <div class="row" style="background-color: #e7e5df ">
                                            <div class="col" style="background-color: #e7e5df ">
                                                <ul class="nav nav-tabs" style="background-color: #e7e5df ">
                                                    <li class="nav-item" href="#" v-on:click.prevent="categoriaSelected=Cate.idCategoria;"
                                                        v-for="Cate in categorias"><a class="nav-link" href="#"
                                                            v-on:click.prevent="categoriaSelected=Cate.idCategoria;"
                                                            v-bind:class="{ 'font-weight-bold': categoriaSelected==Cate.idCategoria,  'text-dark': categoriaSelected==Cate.idCategoria }">{{ Cate.nombreCategoria }}</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                    
                                    </div>
                                    <div class="ml-3" style="background-color: #e7e5df ">
                                        <table class="table table-bordered table-sm table-striped table-responsive"
                                            style="height: 300px; width: auto;">
                                            <thead class="thead-light">
                                                <tr>
                                                    <th scope="col">id Producto</th>
                                                    <th scope="col">Nombre</th>
                                                    <th scope="col">Precio unitario</th>
                                                    <th scope="col">Cantidad</th>
                                                    <th scope="col">Preparado</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr v-for="(producto, index) in productos"
                                                    v-show="producto.idCategoria==categoriaSelected &amp;&amp; buscarProductos(index)"
                                                    v-on:click.prevent="productoSelected = index;"
                                                    v-bind:class="{ 'font-weight-bold' : productoSelected==index }">
                                                    <td>{{producto.idProducto}}</td>
                                                    <th>{{producto.nombreProducto}}</th>
                                                    <td>{{producto.precio}}</td>
                                                    <td><button type="button" class="btn btn-secondary"
                                                            v-on:click="productoSelected=index; quitarAdetalle(productoSelected); buscarCantidad(index)">-</button>
                                                        <span>{{buscarCantidad(index)}}</span>
                                                        <button type="button" class="btn btn-secondary"
                                                            v-on:click="productoSelected=index; agregarAdetalle(productoSelected); buscarCantidad(index);">+</button>
                                                    </td>
                                                    <td>{{producto.esPreparado ? 'Si':'No'}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                    
                                </div>
                                <div v-if="this.ordenSelected.estado === 'C'" class="modal-body" style="background-color: #e7e5df ">
                                    La orden ya fue Cerrada o Cobrada. Por favor realice una orden nueva. 
                                </div>
                                <div class="modal-footer" style="background-color: #e7e5df ">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                                    <button type="button" class="btn btn-primary" data-dismiss="modal"
                                        onClick="$('#modalResumen').modal('show')" style="background-color: #44bba4 ">Agregar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                        <!--  fin de modal agregar   -->


                    <!-- <div><button @click=" copiarArreglo();">Arreglo modificado</button></div> -->


                        <!--     modal eliminar -->
                        <div class="modal fade" id="mdlEliminar" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header" style="background-color: #e7e5df ">
                                        <h5 class="modal-title" id="exampleModalLabel">Eliminar</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body" style="background-color: #e7e5df ">
                                        ¿Desea eliminar la orden: {{ordenSelected.idOrden}} mesa: {{ordenSelected.mesa}}?
                                    </div>
                                    <div class="modal-footer"style="background-color: #e7e5df ">
                                        <button type="button" class="btn btn-secondary"
                                            data-dismiss="modal">Cancelar</button>
                                        <button type="button" class="btn btn-primary" @click="eliminarOrden();"
                                            data-dismiss="modal" style="background-color:#44bba4">Confirmar</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--     fin modal eliminar -->

                        <!-- modal resumen -->
                        <div class="modal fade" id="modalResumen" tabindex="-1" role="dialog" aria-labelledby="exampleModalScrollableTitle" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
                              <div class="modal-content">
                                <div class="modal-header" style="background-color: #e7e5df ">
                                  <h5 class="modal-title" id="exampleModalScrollableTitle">Resumen</h5>
                                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                  </button>
                                </div>
                                <div class="modal-body" style="background-color: #e7e5df ">
                                    <table class="table table-sm">
                                        <thead>
                                          <tr>
                                            <th scope="col">Producto</th>
                                            <th scope="col">Cantidad</th>
                                            <th scope="col">Precio Unitario</th>
                                            <th scope="col">Sub Total</th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <tr v-for="dno2 in detallesDeNuevaOrden">
                                            <td>{{nombreProducto(dno2.idProducto)}}</td>
                                            <td>{{dno2.cantidad}}</td>
                                            <td>{{dno2.precioUnitario}}</td>
                                            <td>{{(dno2.precioUnitario*dno2.cantidad).toFixed(2)}}</td>
                                          </tr>
                                        </tbody>
                                      </table>

                                      <div class="row justify-content-lg-end my-4 ml-2 mr-3" style="background-color: #e7e5df ">
                                        <label for="total">Total:</label>
                                        <input class="ml-1 justify-content-center" type="text" v-model="precioTotal" disabled id="total">
                                      </div>
                                </div>
                                <div class="modal-footer">
                                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                                  <button type="button" class="btn btn-primary"  data-dismiss="modal" @click="agregarAOrdenDB();" style="background-color:#44bba4">Agregar</button>
                                </div>
                              </div>
                            </div>
                          </div>
                        <!-- modal resumen -->

                        <!--  modal cobrar    -->
                        <div class="modal fade" id="mdlCobrar" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header" style="background-color: #e7e5df ">
                                        <h5 class="modal-title" id="exampleModalLabel">Cobrar</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body" style="background-color: #e7e5df ">
                                        <label>N° de orden: {{this.ordenSelected.idOrden}}</label><br>
                                        <label>Mesa: {{this.ordenSelected.mesa}}</label><br>
                                        <label>Mesero: {{this.ordenSelected.mesero}}</label><br>
                                        <label>Fecha: {{this.ordenSelected.fecha}}</label><br>
                                        <label><h4><strong>Total: {{this.ordenSelected.total}}</strong></h4></label><br>
                                        <label><strong>Cantidad de Efectivo</strong></label><input class="form-control" type="text"
                                            placeholder="Ingresa la cantidad de efectivo" v-model.number="efectivo" />
                                    </div>
                                    <div class="modal-footer" style="background-color: #e7e5df ">
                                        <button type="button" class="btn btn-secondary"
                                            data-dismiss="modal">Cancelar</button>
                                        <button id="btnCobrar" type="button" class="btn btn-primary"
                                            onClick="$('#mdlCobrar').modal('hide')" @click="cobrarOrden();" style="background-color:#44bba4">Cobrar</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--   Fin modal cobrar   -->


                        <!-- Modal detalle de orden -->
                        <div class="modal fade" id="mdDetalleOrden" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
                                <div class="modal-content">
                                    <div class="modal-header" style="background-color: #e7e5df ">
                                        <h5 class="modal-title" id="exampleModalLabel">Detalle de orden</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body" style="background-color: #e7e5df ">
                                        <!-- paso 3 -->
                                        <div class="border rounded" style="background-color: #e7e5df ">
                                            <div class="my-3">
                                                <div>
                                                    <label class="ml-2" for="mesa" style="width:=300px">Mesa: </label>
                                                    <input class="ml-2 form-control-sm" disabled id="mesa" type="text"
                                                        v-model="this.ordenSelected.mesa" style="width:=300px">
                                                </div>
                                                <div>
                                                    <label class="ml-2" for="cliente" style="width:=300px">Cliente: </label>
                                                    <input class="ml-2 form-control-sm" disabled id="cliente"
                                                        type="text" v-model="this.ordenSelected.cliente">
                                                </div>
                                                <div>
                                                    <label class="ml-2" for="mesero" style="width:=300px">Mesero: </label>
                                                    <input class="ml-2 form-control-sm" disabled type="text" id="mesero"
                                                        v-model="this.ordenSelected.mesero">
                                                </div>
                                            </div>
                                            <div class="container  mt-3 table-responsive" style="background-color: #e7e5df ">
                                                <table
                                                    class="table table-light table-bordered table-sm table-striped overflow-y: scroll; mr-2">
                                                    <thead>
                                                        <tr>
                                                            <th scope="col">Cantidad</th>
                                                            <th scope="col">Producto</th>
                                                            <th scope="col">Precio unitario</th>
                                                            <th scope="col">Sub Total</th>
                                                            <!-- <th scope="col"> Accion </th> -->
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr v-for="dos in detalleOrdenSelected" @click="productoSelected=dos.idProducto">
                                                            <td>{{dos.cantidad}}</td>
                                                            <td>{{nombreProducto(dos.idProducto)}}</td>
                                                            <td>{{dos.precioUnitario}}</td>
                                                            <td>{{(dos.precioUnitario*dos.cantidad).toFixed(2)}}</td>
                                                            <!-- <td><span><button type="button"
                                                                        class="btn btn-danger btn-sm">Eliminar</button></span>
                                                            </td> -->
                                                        </tr>
                                                    </tbody>
                                                </table>
                                                <div class="row justify-content-lg-end my-4 ml-2 mr-3" style="background-color: #e7e5df ">
                                                    <label for="total">Total:</label>
                                                    <input class="ml-1 justify-content-center" type="text" v-model="precioTotal" disabled id="total">
                                                </div>
                                            </div>

                                        </div>
                                        <!-- fin de modal resumen -->
                                    </div>
                                
                                <div class="modal-footer" style="background-color: #e7e5df ">
                                        <!-- <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button> -->
                                        <button type="button" class="btn btn-primary" data-dismiss="modal" style="background-color:#44bba4">Aceptar</button>
                                 </div>
                            </div>
                            </div>
                        </div>
                        <!--   fin de modal  detalle orden -->

                    <!-- Modal nueva orden -->
                    <div class="modal fade" id="exampleModalScrollable" tabindex="-1" role="dialog"
                        aria-labelledby="exampleModalScrollableTitle" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document" style="background-color: #e7e5df ">
                            <div class="modal-content" style="background-color: #e7e5df">
                                <div class="modal-header" style="background-color: #e7e5df">
                                   <strong>Nueva Orden</strong> 
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body" id="idNuevaOrden" style="background-color: #e7e5df">
                                    <div class="">
                                        <div>
<!-- paso 1 -->
                                            <h3 id="inicio" class="ml-3">Datos Generales </h3>
                                            <form>
                                                <div class="form-group">
                                                    <div class="form-row mt-0"
                                                        style="margin-right:0px;margin-left:0px;padding-top:24px;">
    <div class="container  mt-3 table-responsive">
                                                    <table class="table table-sm">
                                                            <thead>
                                                                <tr>
                                                                <th scope="col">  <div class="col-md-8 offset-md-1">
                                                            <p
                                                                style="margin-left:2%;font-family:Roboto, sans-serif;font-size:14px;">
                                                                Cliente
                                                            </p>
                                                        </div>
                                                      </th>
                                                                <th scope="col">      <div class="col-md-8 offset-md-1">
                                                            <p
                                                                style="margin-left:2%;font-family:Roboto, sans-serif;font-size:14px;">
                                                                Mesa</p>
                                                        </div>
                                                       </th>
                                                                <th scope="col">        <div class="col-md-8 offset-md-1">
                                                            <p
                                                                style="margin-left:2%;font-family:Roboto, sans-serif;font-size:14px;">
                                                                Mesero
                                                            </p>
                                                        </div>
                                                     </th>
                                                               
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr >
                                                                <td> <div class="col-md-8 offset-md-1">
                                                            <input type="text" class="form-control ml-2 form-control-sm"
                                                                style="margin-left:0px;font-family:Roboto, sans-serif; width: 200px;"
                                                                name="name" placeholder="Cliente"
                                                                v-model="nuevaOrden.cliente" />
                                                        </div>
                                                        </td>
                                                                <td>  <div class="col-md-5 offset-md-1">
                                                            <input  type="text" class="form-control form-control-sm"
                                                                style="margin-left:0px;font-family:Roboto, sans-serif; width: 200px;"
                                                                name="birthPlace" placeholder="Mesa"
                                                                v-model="nuevaOrden.mesa" />
                                                        </div>
                                                      </td>
                                                                <td><div class="col-md-8 offset-md-1" style="margin-left:0px;font-family:Roboto, sans-serif; width: 200px;">
                                                            <input type="text" class="form-control form-control-sm"
                                                                style="margin-left:0px;font-family:Roboto, sans-serif; width: 200px;" placeholder="Mesero"
                                                                v-model="nuevaOrden.mesero" />
                                                        </div></td>
                                                                
                                                                </tr>
                                                            </tbody>
                                                            </table>
                                                   
                                                    </div>
                                               
                                           
                                                        
                                                   
                                                   
                                                      
                                           
                                                    </div>
                                                </div>
                                            </form>
                                            <hr>
                                            <!-- paso 2 -->

                                            <div class="container mb-2" style="background-color: #e7e5df">
                                                <h3 id="menu">Menu</h3>
                                                <!-- <ul class="nav nav-pills">
                                                    <li class="nav-item" v-for="cat in categorias">
                                                        <a class="nav-link" href="#">{{cat.nombreCategoria}}</a>
                                                    </li>
                                                </ul> -->
                                                <input class="form-control my-1" type="text"
                                                v-model="textoBusquedaProducto" placeholder="Buscar..." style="width: 400px;">
                                                <div class="row">
                                                <div class="col" style="background-color: #e7e5df">
                                                        <ul class="nav nav-tabs">
                                                            <li class="nav-item" href="#" v-on:click.prevent="categoriaSelected=Cate.idCategoria;"
                                                                v-for="Cate in categorias"><a class="nav-link" href="#"
                                                                    v-on:click.prevent="categoriaSelected=Cate.idCategoria;"
                                                                    v-bind:class="{ 'font-weight-bold': categoriaSelected==Cate.idCategoria,  'text-dark': categoriaSelected==Cate.idCategoria }">{{ Cate.nombreCategoria }}</a>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="ml-3" style="background-color: #e7e5df">
                                                <table class="table table-striped table-bordered table-responsive" style="height: 300px; width: auto background-color: #e7e5df">
                                                        <thead class="thead-light">
                                                            <tr>
                                                                <th scope="col">id Producto</th>
                                                                <th scope="col">Nombre</th>
                                                                <th scope="col">Precio unitario</th>
                                                                <th scope="col">Cantidad</th>
                                                                <th scope="col">Es Preparado</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr v-for="(producto, index) in productos" v-show="producto.idCategoria==categoriaSelected &amp;&amp; buscarProductos(index)"
                                                            v-on:click="productoSelected=index;"
                                                            v-bind:class="{ 'font-weight-bold' : productoSelected==index }">
                                                                <td>{{producto.idProducto}}</td>
                                                                <th>{{producto.nombreProducto}}</th>
                                                                <td>{{producto.precio}}</td>
                                                                <td><button type="button" class="btn btn-secondary"
                                                                    v-on:click="productoSelected=index; quitarAdetalle(productoSelected); buscarCantidad(index)">-</button>
                                                                <span>{{buscarCantidad(index)}}</span>
                                                                <button type="button" class="btn btn-secondary"
                                                                    v-on:click="productoSelected=index; agregarAdetalle(productoSelected); buscarCantidad(index);">+</button>
                                                                </td>
                                                                <td>{{producto.esPreparado ? 'Si':'No'}}</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                    <div class="input-group" style="background-color: #e7e5df">
                                                            <div class="input-group-prepend">
                                                              <span class="input-group-text">Observacion</span>
                                                            </div>
                                                            <textarea class="form-control" v-model="nuevaOrden.observacion" aria-label="With textarea"></textarea>
                                                    </div>
                                            </div>

                                            <!-- paso 3 -->
                                            <hr>
                                            <h3 id="resumen">Resumen</h3>
                                            <div class="border rounded" style="background-color: #e7e5df">
                                                <div class="my-3" style="background-color: #e7e5df">
                                                    <div style="background-color: #e7e5df">
                                                        <label class="ml-2" for="mesa" style="width: 100px;">Mesa: </label>
                                                        <input class="ml-2 form-control-sm" disabled id="mesa"
                                                            type="text" v-model="nuevaOrden.mesa" style="width: 200px;">
                                                    </div>
                                                    <div style="background-color: #e7e5df">
                                                        <label style="width: 100px;" class="ml-2" for="cliente">Cliente: </label>
                                                        <input style="width: 200px;" class="ml-2 form-control-sm" disabled id="cliente" 
                                                            type="text" v-model="nuevaOrden.cliente">
                                                    </div>
                                                    <div style="background-color: #e7e5df">
                                                        <label style="width: 100px;" class="ml-2" for="mesero">Mesero: </label>
                                                        <input style="width: 200px;" class="ml-2 form-control-sm" disabled type="text"
                                                            id="mesero" v-model="nuevaOrden.mesero">
                                                    </div>
                                                </div>
                                                <div class="container  mt-3 table-responsive" style="background-color: #e7e5df">
                                                    <table class="table table-sm">
                                                            <thead>
                                                                <tr>
                                                                <th scope="col">Producto</th>
                                                                <th scope="col">Cantidad</th>
                                                                <th scope="col">Precio Unitario</th>
                                                                <th scope="col">Sub Total</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr v-for="dno2 in detallesDeNuevaOrden">
                                                                <td>{{nombreProducto(dno2.idProducto)}}</td>
                                                                <td>{{dno2.cantidad}}</td>
                                                                <td>{{dno2.precioUnitario}}</td>
                                                                <td>{{(dno2.precioUnitario*dno2.cantidad).toFixed(2)}}</td>
                                                                </tr>
                                                            </tbody>
                                                            </table>
                                                    <div class="row justify-content-lg-end my-4 ml-2 mr-3" style="background-color: #e7e5df">
                                                        <label for="total">Total: </label>
                                                        <input class="ml-1" type="text" disabled v-model="totalNuevaOrden">
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                 <div class="modal-footer"  style="background-color: #e7e5df;color: rgb(249,251,252)">
                                <div class="row justify-content-lg-end my-4 mr-3" style="background-color: #e7e5df">
                                                        <button type="button" class="btn btn-success mt-3 mb-2 mx-3" @click="nuevaOrdenDB();" data-dismiss="modal" style="background-color: #44bba4">
                                                            Aceptar
                                                        </button>
                                                        <button style="background-color: #e7bb41" type="button" class="btn btn-danger mt-3 mb-2"
                                                            data-dismiss="modal" @click="cobrarDesdeModal();">
                                                            Cobrar
                                                        </button>
                                                    </div></div>
                            </div>
                        </div>
                    </div>
                    <!-- fin modal nueva orden -->

                    </div>
                    <div class="alert alert-success collapse" role="alert" id="alertaCambio">
                            <span><strong>{{ alerta.titulo }} :</strong>&nbsp;{{ alerta.mensaje }}.</span>
                            <i class="fa fa-close close" v-on:click="cerrarAlerta();"></i>
                    </div> 
                </div>
            </div>   
            </div>
        </div></div>
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.2.1/js.cookie.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="assets/js/pcategorias.js"></script>
    <script src="assets/js/pordens.js"></script>
    <script src="assets/js/productos.js"></script>
    <script src="assets/js/Scroll-to-top.js"></script>
    <script src="assets/js/vueOrdenes.js"></script>
</body>

</html>